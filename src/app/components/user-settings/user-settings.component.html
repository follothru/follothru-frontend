<div class="container user-settings-container">
  <h4>
    Settings
  </h4>
  <hr />
  <ng-container *ngIf="(currentUser$ | async) as currentUser; else loading">
    <form autocomplete="off">
      <div class="form-group">
        <label for="firstname">First name</label>
        <input
          type="text"
          name="firstname"
          class="form-control"
          (change)="onChange()"
          [(ngModel)]="userTemp.firstname"
        />
      </div>
      <div class="form-group">
        <label for="lastname">Last name</label>
        <input
          type="text"
          name="lastname"
          class="form-control"
          (change)="onChange()"
          [(ngModel)]="userTemp.lastname"
        />
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input
          autocomplete="off"
          type="email"
          name="email"
          class="form-control"
          (change)="onChange()"
          [(ngModel)]="userTemp.email"
        />
      </div>
      <div class="form-group">
        <label for="newPassword">Old password</label>
        <input
          autocomplete="off"
          type="password"
          class="form-control"
          (change)="onChange()"
        />
      </div>
      <div class="form-group">
        <label for="newPassword">New password</label>
        <input
          autocomplete="off"
          type="password"
          name="newPassword"
          class="form-control"
          (change)="onChange()"
          [(ngModel)]="userTemp.newPassword"
        />
      </div>
    </form>
    <div class="buttons">
      <button type="button" class="btn btn-primary" [disabled]="!changed">
        Save
      </button>
      <button type="button" class="btn btn-danger" (click)="onRecover()">
        Recover
      </button>
    </div>
  </ng-container>
</div>
<ng-template #loading>
  <app-spinner></app-spinner>
</ng-template>
